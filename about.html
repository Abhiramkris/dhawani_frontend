<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Carousels with Synchronized Controls</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Link to External CSS -->
    <link href="grid.css" rel="stylesheet">
</head>

<body>

    <!-- Main Container for Carousels -->
    <div class="container mt-5">
        <div class="row">

            <!-- Carousel 1 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls1" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=666&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=555&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel 2 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls2" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=666&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel 3 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls3" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <!-- Carousel 4 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls4" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Centralized Controls -->
            <div class="col-md-4 mb-4">

                <div class="carousel-controls">
                    <a href="#" class="carousel-link" data-slide-to="0">Slide 1</a> |
                    <a href="#" class="carousel-link" data-slide-to="1">Slide 2</a> |
                    <a href="#" class="carousel-link" data-slide-to="2">Slide 3</a>
                </div>
            </div>

            <!-- Carousel 6 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls6" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">

            <!-- Carousel 7 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls6" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel 7 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls6" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>


            <!-- Carousel 8 -->
            <div class="col-md-4 mb-4">
                <div id="carouselExampleControls6" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=999&fg=555&text=First+slide"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=888&fg=444&text=Second+slide"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100"
                                src="https://via.placeholder.com/800x400?auto=yes&bg=777&fg=333&text=Third+slide"
                                alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>


        </div>



    </div>

    <!-- Bootstrap JS (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="grid.js"></script>

</body>


<style>
    /* Make carousel images the same size */
.carousel-item img {
    width: 100%;
    /* Full width */
    height: 400px;
    /* Fixed height for consistency */
    object-fit: cover;
    /* Ensures images cover the space without stretching */
}

/* Ensure carousel items have the same height */
.carousel-item {
    height: 400px;
    /* Fixed height */
}

/* Position the control buttons below the carousels */
.carousel-controls {
    display: flex;
    justify-content: center;
    position: relative;
    top: 20px;
    z-index: 10;
}

.carousel-control-btn {
    background-color: rgba(0, 0, 0, 0.5);
    /* Semi-transparent background */
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    color: white;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

/* Hover effect for buttons */
.carousel-control-btn:hover {
    background-color: rgba(0, 0, 0, 0.8);
}

/* Space between buttons */
.carousel-control-prev {
    margin-right: 10px;
}

.carousel-control-next {
    margin-left: 10px;
}
</style>

<script>

// Get all the carousel elements
const carousels = document.querySelectorAll('.carousel');

// Initialize Bootstrap carousel instances
const carouselInstances = Array.from(carousels).map(carousel => new bootstrap.Carousel(carousel));

// Get all navigation links
const carouselLinks = document.querySelectorAll('.carousel-link');

// Add event listeners to the links
carouselLinks.forEach(link => {
    link.addEventListener('click', event => {
        event.preventDefault(); // Prevent default link behavior
        const slideIndex = parseInt(link.getAttribute('data-slide-to'), 10); // Get the target slide index

        // Move all carousels to the specified slide
        carouselInstances.forEach(carouselInstance => {
            carouselInstance.to(slideIndex); // Move to the target slide
        });
    });
});


// Get control buttons
const prevButton = document.getElementById('prevButton');
const nextButton = document.getElementById('nextButton');

// Set the synchronized timing interval (e.g., 10 seconds)
const syncInterval = 4000; // 10 seconds

// Flag to prevent multiple transitions at once
let isTransitioning = false;

// Function to move all carousels in the same direction (with optional instant transition)
function moveAllCarousels(direction, instant = false) {
    if (isTransitioning && !instant) return; // Prevent transition if already transitioning and not instant
    isTransitioning = true;

    // Move each carousel
    carouselInstances.forEach(carouselInstance => {
        if (direction === 'prev') {
            carouselInstance.prev(); // Move to the previous slide
        } else {
            carouselInstance.next(); // Move to the next slide
        }
    });

    // If the transition is not instant, set a timeout to allow transitions to finish before enabling again
    if (!instant) {
        setTimeout(() => {
            isTransitioning = false;
        }, syncInterval); // The timeout should match your syncInterval
    } else {
        // If it's an instant transition, immediately allow other transitions without delay
        setTimeout(() => {
            isTransitioning = false;
        }, 300); // Short timeout for instant action
    }
}

// Synchronize automatic transitions for all carousels
function autoSlideAllCarousels() {
    setInterval(() => {
        moveAllCarousels('next'); // Automatically move carousels every syncInterval
    }, syncInterval);
}

// Event listeners for buttons
prevButton.addEventListener('click', () => moveAllCarousels('prev', true)); // Instant transition on button click
nextButton.addEventListener('click', () => moveAllCarousels('next', true)); // Instant transition on button click

// Automatically slide carousels every syncInterval (10 seconds in this case)
autoSlideAllCarousels();
</script>
</html>